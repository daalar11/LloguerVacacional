<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head>
    <div th:replace="plantilla/template :: head(type='tag')"></div>
    <title>Propietats</title>
</head>

<body>

<header th:replace="plantilla/template :: header" ></header>

<div class="container">

    <main>

        <div class="row text-center">
            <p class="fs-1 font-monospace border-dark border-2 border-bottom" th:text="${titolLlistarPropietats}"></p>
        </div>

        <div class="row">
            <!-- <div class="col-2 mb-4">
                <a class="btn btn-secondary" th:href="@{/views/propietats/create}" th:text="'Nova Propietat'" title="Crear Nova Propietat"></a>
            </div> -->
            <div class="col-12">

                <table id="table_id" class="table table-striped" style="width:100%">

                    <!-- CAPÇALERA DE LA TAULA -->
                    <thead class="thead-dark">
                    <tr>
                        <th scope="col">Id</th>
                        <th scope="col">Propietat</th>
                        <th scope="col">Localitat</th>
                        <th scope="col">Direccio</th>
                        <th scope="col">Banys</th>
                        <th scope="col">Preu Base</th>
                        <th scope="col">Des.Setmana</th>
                        <th scope="col">Des. Mes</th>
                        <th scope="col">Configuració Casa</th>
                        <th scope="col">Eliminar</th>
                    </tr>
                    </thead>

                    <!-- COS DE LA DATATABLE -->
                    <tbody>
                    <tr th:each="pr:${propietats}">
                        <th th:text="${pr.idPROPIETAT}"></th>
                        <td th:text="${pr.nomPropietat}"></td>
                        <td th:text="${pr.localitat.nomLocalitat}"></td>
                        <td th:text="${pr.direccio}"></td>
                        <td th:text="${pr.banysPropietat}"></td>
                        <td th:text="${#numbers.formatCurrency(pr.preuBase)}"></td>
                        <td th:text="${pr.descompteSetmana}"></td>
                        <td th:text="${pr.descompteMes}"></td>
                        <td><a class="btn btn-primary" th:href="@{'/views/propietats/configurar/' + ${pr.idPROPIETAT}}">Configurar casa </a></td>
                        <td><a class="btn btn-danger" th:href="@{'/views/propietats/delete/' + ${pr.idPROPIETAT}}" th:text="'Eliminar Propietat'" title="Eliminar Propietat" onclick="return confirm('Estas segur que vols eliminar el registre?');"></a></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="row text-center">
            <a  class="btn btn-outline-dark mb-2" th:text="'Nova propietat'" th:href="@{'/views/propietats/create/'+${id}}"></a>
        </div>

    </main>

</div>

<footer>
    <div th:replace="plantilla/template :: footer"></div>
</footer>

<script th:inline="javascript">

    $(document).ready(function() {
        veureTaula();
    });

</script>

</body>

</html>